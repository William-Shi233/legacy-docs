# 更新 Paper
经常更新是对于每一个服务器都要做的事情。Paper每天都将有新功能与错误修复补丁发布，我们建议每周至少更新一次服务端保证修复最新的Bug。  
更新很简单，但是重要的是如何正确地完成更新工作。  
  
> **不要在服务器运行时直接替换Jar文件**  
> 除非说你知道并且明白为什么要这么做，否则我们不推荐你直接在服务器正在运行时直接替换掉Jar文件（无论是插件还是Paper服务端本身）。  
  
## 第一步：备份
这是最重要的一步，也是经常被遗漏的一步。即使说Paper不太容易导致未知错误的发生，但是插件和某些意味可不会保证！在更新时备份服务器是个不错的时间，一个可用的备份是无论服务器大与小都必不可少的。  

## 第二步：更新插件
就如同经常更新Paper一样，保持插件最新也很重要。你永远都不知道插件作者在编写什么代码，不管是错误修复还是新功能。    

一个鲜为人知的功能则是Paper有一个`update`文件夹。以下将教你如何使用：  
1. 在`plugins`文件夹中创建一个`update`文件夹。
2. 挨个下载插件并放入`update`文件夹。
3. 重启服务器，不要管`update`以外的任何插件。

这样，你便同时更新了所有插件而无需提前关闭服务器、或者在服务器运行时替换掉插件Jar文件。在更新Paper服务端之前，也无需重启服务器。    
这个功能允许你一口气更新掉Paper及所有插件，而无需额外的时间来下载并替换掉插件，占用宝贵的停机时时间。  

## 第三步：更新Paper
> **提示**  
> 如果你使用共享的主机，你的主机服务商可能会提供内置的更新系统！在更新之前，先查询一下正在使用的主机的文档吧。  

更新Paper服务端很简单。  
1. 从[官方网站下载](https://papermc.io/downloads)新版本的Paper
2. 停止运行服务器。不推荐在服务器运行时直接替换Jar文件。
3. 用新的Jar文件替换掉旧的Jar文件。
4. 启动服务器。注意观察终端的启动日志，确保正常加载；如果有什么插件在加载时报错，你也会注意到它们。

为了将停机时时间缩短到最小，一些服务器管理员选择先放入新的文件，然后使用另外一个启动脚本启动，而不是直接替换掉Jar文件。这两种办法都可以有效的更新Paper。  
  
> **自动更新提醒**  
> 通过使用Paper的更新API，自动更新可能会很方便。但是PaperMC并不推荐这样做，因为不清楚插件与新版本是否兼容或是否会引起其它问题，所以，如果使用自动更新，请确保始终观察后台，并注意查看启动时的日志。
